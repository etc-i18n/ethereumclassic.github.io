---
title: Genesis
updated: 2022-02-22
contribute: true
disclaimer: opinion
seo: История возникновения Ethereum Classic, рассказывающая о печально известном взломе DAO и последовавшем за ним хард-форке, который заставил Ethereum Foundation отказаться от своего обещания "Код есть закон".
info: "**Отказ от ответственности:** События, описанные в этой истории, считаются точными, но некоторые детали не могут быть проверены, поскольку источники из первых рук были удалены или иным образом потеряны для истории. Если какие-либо факты оспариваются или появились дополнительные источники, приветствуются исправления."
---

## Ключевые моменты

- Ethereum™ и Ethereum Classic когда-то были одним блокчейном.
- DAO был контрактом, который собрал много денег, но в нем была ошибка, которой воспользовались. ETH был потенциально потерян для Хакера.
- 70% потерянных средств были возвращены, но 30% остались в подвешенном состоянии.
- В ответ был предложен хард-форк, конфисковавший оставшиеся 30% у "Хакера" путем остановки их применения.
- Хард-форк был спорным, поскольку он не устранял проблему с самим протоколом Ethereum, а Ethereum рекламировал себя как "Build Unstoppable Applications".
- Весьма сомнительное "голосование за монету" привело к тому, что Ethereum Foundation поддержал хард-форк, нарушив свой нейтралитет.
- Хард-форк вызвал раскол цепи, в результате чего появился Ethereum Classic.
- Хард-форк не был необходим, так как взломанные средства можно было вернуть на Ethereum Classic, но из-за форка эти усилия были прекращены.
- Отказавшись от _Code is Law_, Ethereum™ оказался в философски сомнительном положении, когда речь заходит о будущих вмешательствах, что может быть проблематично.
- Ethereum Classic остается самой долгоиграющей платформой для смарт-контрактов, выполняя обещание "Создавать неудержимые приложения".

## Введение

Будущие криптоисторики, несомненно, будут ссылаться на чудесную историю происхождения Ethereum Classic в качестве примера, освещающего социотехнологическую ткань блокчейн. Подобно эксперименту на Большом адронном коллайдере, _инцидент_ , в результате которого родилась ETC, разорвал на части то, что ранее считалось более или менее атомарным образованием, навсегда разделив проект Ethereum на две части и рассыпав каскад ценных сведений для наблюдателей.

История ETC увлекательна и необходима для чтения любому криптовалютному исследователю с чисто исторической точки зрения. Нет более актуальной истории для тех, кто заинтересован в том, чтобы действительно понять, что делает блокчейн ценным. Вопреки всему, несмотря на желания многих, _Code is Law_ и "Build Unstoppable Applications" в итоге одержали верх, и благодаря простому акту упорства Ethereum Classic подтвердил не только свое ценностное предложение, но и силу и стойкость действительно децентрализованных блокчейнов в целом.

## Консультации

Миссия Ethereum Classic может быть адекватно понята только через события, связанные с историей его возникновения, что по определению ставит его в противоречие с его родным братом [Ethereum™](https://ethereum.org) по нескольким важным параметрам. Однако не следует понимать эти различия как противопоставление Ethereum Classic и Ethereum™ в целом. Напротив, у этих двух проектов гораздо больше общего, чем того, что их разделяет. Оба проекта Ethereum объединяет общее стремление изменить мир к лучшему; разница заключается в том, что, по мнению каждого проекта, необходимо для достижения этих изменений.

Ethereum Classic не является анти-Ethereum™. Ethereum Classic _- это_ Ethereum.

### Забытые детали

В более широком сообществе Ethereum существование Ethereum Classic признается неохотно, но критические детали, связанные с его созданием, в основном неизвестны и редко обсуждаются, поскольку они раскрывают правду, которую многие предпочли бы забыть.

Подробности этой истории обнажают глубоко укоренившийся изъян в повествовании о Ethereum™. Для тех, кто чрезмерно подвержен влиянию ETH, он представляет угрозу, что является одной из причин, по которой сам Ethereum Classic является объектом отторжения, клеветы и насмешек. Но хотя детали генезиса ETC могут быть неудобными, необходимо помнить исторические факты. Детали имеют значение, поскольку они предупреждают об опасностях централизации и захвата.

> Те, кто не помнит прошлого, обречены на его повторение.

Со временем становится все более очевидным, что многие критики ETC испытывают дискомфорт от простой истины. Когда Ethereum™ отказался от _Code is Law_, он также отказался от основного, если не единственного, долгосрочного ценностного предложения блокчейн. Для многих Ethereum Classic является раздражающим напоминанием об этой утраченной ценности, но он будет существовать независимо от этого и с радостью подберет куски, когда в очередной раз Ethereum™ будет согнут под волю особых интересов.

### Виновата игра

С учетом сказанного, несмотря на то, что в прошлом могли иметь место сбои в координации, не стоит обижаться на всех, кто участвовал в зарождении Ethereum или был связан с ним. Отнюдь, все, кто внес свой вклад в создание Ethereum - форкеры, антифоркеры, разработчики и не разработчики - должны быть почитаемы за их важную работу по созданию одного из самых значительных достижений поколения. Ethereum Classic в долгу перед проектом Ethereum и его создателями.

В этой истории есть моменты, которые могут навести на мысль о потенциальном финансовом конфликте интересов, но эти стимулы являются необходимыми элементами всех проектов блокчейн, и их следует ожидать, если не приветствовать. В любом случае, поскольку невозможно определить, насколько они сыграли или не сыграли свою роль, все вовлеченные лица заслуживают того, чтобы им дали добро. Кроме того, решения, принятые в то время, по всей вероятности, были продиктованы честными разногласиями по поводу того, какой результат будет наилучшим для Ethereum, в то время, когда существовало минимальное количество реальных прецедентов, на которые можно было бы ориентироваться.

Создание Ethereum Classic было странным и во многом непредвиденным результатом. Вместо того чтобы обвинять отдельных людей или группы, возможно, полезнее рассматривать рождение Ethereum Classic как счастливую случайность.

По этим причинам в данном размышлении мы намеренно избегаем упоминания имен, как и в будущих дискуссиях на эту тему. Только организации или высокие руководящие должности будут указаны, если их роль является неотъемлемой для понимания ситуации.

## Первоначальное видение Ethereum

Вначале была программа "Build Unstoppable Applications", и какое-то время она была хороша. Это была настоящая революция, поскольку обычный разработчик мог создать новый тип программного обеспечения, которое никто не мог остановить или подвергнуть цензуре. В первые дни в сообществе Ethereum была единая поддержка концепции _Code is Law_ . Это была не только бесспорная, но и сама миссия.

Фраза "Build Unstoppable Applications" [появилась](https://web.archive.org/web/20150802035735/https://www.ethereum.org/) на официальном сайте Ethereum, что, как мы [ранее](/why-classic/code-is-law) рассмотрели, является функцией, которая зависит от _Code is Law_. Неостанавливаемость означает, что код смарт-контракта является окончательным арбитром результатов транзакций, в отличие от судов или других сил вне контрактного слоя, которые в противном случае могли бы остановить или отменить приложения.

> Почему блокчейн полезен?  
> \- Вы можете запускать на них приложения и убеждать своих пользователей, что ваше приложение останется рабочим, даже если вы потеряете интерес к его обслуживанию, вас подкупят или угрозами заставят каким-либо образом манипулировать состоянием приложения, или у вас появится мотив для получения прибыли, чтобы каким-либо образом манипулировать состоянием приложения.
> 
> - [Ценность технологии блокчейн, блог Ethereum, апрель 2015 г.](https://blog.ethereum.org/2015/04/13/visions-part-1-the-value-of-blockchain-technology/)

![Ethereum.org создает неудержимые приложения](./unstoppable.png)

> Вместо того чтобы зависеть от прихотей одной произвольной стороны, человек, использующий технологию блокчейн, может быть спокоен за то, что статус его личности, средств или владения устройством надежно и безопасно хранится в сверхнадежной, не вызывающей доверия распределенной бухгалтерской книге Backed By Math™.
> 
> - [Проблема доверия, Блог Ethereum, апрель 2015 г.](https://blog.ethereum.org/2015/04/27/visions-part-2-the-problem-of-trust/)

Исходя из этого понимания, в проект устремились тысячи людей, которые вкладывали время, талант и деньги, объединенные идеей _Original Ethereum Vision_ "Build Unstoppable Applications" ("Создавать неудержимые приложения"). Они рассказывали своим друзьям, ручались за его честность, и благодаря этому молва об Ethereum распространилась как лесной пожар.

В стране ETH все шло хорошо. Люди были воодушевлены, росли новые идеи, запускались проекты, и один из этих проектов, в частности, вскоре должен был _доказать, что Classic_.

## ДАО

DAO (произносится как "_Dow_ Jones") или "Децентрализованная автономная организация" описывает систему смарт-контрактов, которая, подобно компании, управляет распределением средств для многих заинтересованных сторон и обычно управляется механизмами голосования. Идея DAO возникла уже давно, но не находила практического применения до тех пор, пока Ethereum не упростил их программирование и запуск, что многие команды начали делать в 2016 году.

![Произведение искусства, созданное для The DAO на основе даосской символики](./dao.png)

У Ethereum Foundation, которая собрала средства на краудсейле для создания Ethereum, был директор по коммуникациям, который [объявил](https://blog.ethereum.org/2015/07/30/ethereum-launches/) блок Ethereum Genesis и был [сторонником](https://twitter.com/stephantual/status/711874685156376576) _Code is Law_. Как и многие другие, CCO EF увидел светлое будущее, обещанное "Build Unstoppable Applications", и в конечном итоге именно они решили использовать этот термин для продвижения проекта Ethereum.

В ноябре 2015 года теперь уже бывший генеральный директор объединился с несколькими кодерами и создал компанию под названием slock.it. Slock.it хотел запустить не просто _a_ DAO, а _The_ DAO, которая использовалась бы как своего рода венчурный фонд, ориентированный на проекты Ethereum. Он был представлен как способ развития экосистемы Ethereum и получения чистой прибыли для инвесторов, которые будут вкладывать эфир в контракт The DAO в обмен на токены DAO, которые позволят голосовать и получать вознаграждение от инвестиций, сделанных The DAO.

### Кураторский крониализм

DAO стала большой новостью в мире Ethereum, не в последнюю очередь потому, что она получила значительную поддержку со стороны многих членов Ethereum Foundation. Помимо того, что проектом руководил недавний CCO EF, DAO наняла "кураторов", которым была предоставлена возможность накладывать вето на определенные действия и действовать в качестве защитной системы, фактически заверяя инвесторов, что средства не будут подвергаться риску определенных видов атак. [Все 11 кураторов](https://medium.com/ursium-blog/vitalik-buterin-gavin-wood-alex-van-de-sande-vlad-zamfir-announced-amongst-stellar-dao-curators-44be4d12dd6e#.1mjq6cfn6) работали непосредственно в проекте или фонде Ethereum, включая некоторых известных тяжеловесов.

Официально сама The Ethereum Foundation не имеет никакого отношения к The DAO, но, возможно, из-за того, что многие кураторы были связаны с EF, эту позицию пришлось озвучить.

![Ethereum Foundation не имеет никакого отношения к DAO](./no-involvement.jpeg)

Попытки Ethereum Foundation дистанцироваться от The DAO важно отметить, поскольку, несмотря на эти заявления о нейтралитете, последующие действия, как оказалось, говорят о другом.

### Крупнейшая в мире краудсейл

В то время многие рассматривали The DAO как инвестицию "без риска", поскольку у нее не только были надежные кураторы, но и инвесторы могли вывести свои средства из The DAO в будущем с помощью механизма "разделения"; это еще больше стимулировало вклады, поскольку инвесторы могли "отказаться от участия" позже, но имели только один шанс "отказаться" во время первоначального краудсейла.

Slock.it запустил краудсейл The DAO в апреле 2016 года, и ETH начали поступать, но вскоре появились признаки того, что что-то не совсем так. Во время краудсейла slock.it объявил о предложении по безопасности [](https://medium.com/ursium-blog/dao-security-a-proposal-to-guarantee-the-integrity-of-the-dao-3473899ace9d), куратор призвал к мораторию [](https://hackingdistributed.com/2016/05/27/dao-call-for-moratorium/), а другой видный куратор сделал предупреждение [](https://gavofyork.medium.com/why-ive-resigned-as-a-curator-of-the-dao-238528fbd447) и ушел с поста.

Но, несмотря на эти предупреждения, к моменту окончания краудсейла The DAO собрала невероятную сумму в 150 миллионов долларов в ETH, побив все мировые рекорды и став крупнейшим краудсейлом в истории. Эта сумма в долларах США не кажется ошеломляющей по сегодняшним меркам, но она составляла 14% от всего объема ETH, который при сегодняшней рыночной стоимости стоил бы около $70 млрд (по состоянию на декабрь 2021 года цена ETH составляла ~$4 000).

### "Никакие средства не подвергаются риску"

Через неделю после окончания краудсейла исследователь безопасности публично [раскрыл](https://vessenes.com/more-ethereum-attacks-race-to-empty-is-the-real-deal) новый тип уязвимости, который многие разработчики смарт-контрактов ранее не рассматривали, так называемый "reentrancy bug".

Ошибка может возникнуть, когда контракт не обновляет должным образом свое состояние, когда другие контракты взаимодействуют с ним, что позволяет злоумышленникам выполнять одну и ту же функцию многократно вопреки _намерениям_ авторов контракта. Это похоже на торговый автомат, который не проверяет, правильно ли вставлена монета; злоумышленник может обвязать вокруг монеты кусок веревки, чтобы вытащить ее обратно и использовать ту же монету, чтобы сметать все вкусные лакомства.

Поскольку Ethereum был настолько новым, а лучшие практики разработки смарт-контрактов еще не сформировались, эта ошибка встречалась довольно часто. Как только новость стала известна, многие контракты были использованы, и средства были потеряны, но, к счастью, DAO не пострадала, [согласно](https://medium.com/ursium-blog/no-dao-funds-at-risk-following-the-ethereum-smart-contract-recursive-call-bug-discovery-29f482d348b) на slock.it.

### ...и она исчезла

Как и в случае с реальными контрактами, дьявол кроется в деталях, и оказалось, что DAO все-таки [пострадала](https://blog.b9lab.com/the-dao-hack-in-eight-minutes-94919018692d) от ошибки реентерабельности. На строке 666 [](https://github.com/TheDAO/DAO-1.0/blob/master/DAO.sol#L666-L670) эксплойт лежал в спящем состоянии, а огромное количество собранных ETH сидело там и ждало, когда остроглазый программист сможет воспользоваться им.

Через несколько дней один или несколько злоумышленников начали истощать DAO и, подобно куску нитки, привязанному к монете, использовали специально созданные контракты для многократного вызова функции разделения DAO, чтобы извлечь больше ETH, чем авторы контракта _предполагали_ .

В результате взлома DAO значительное количество ETH было извлечено из DAO за счет держателей токенов DAO (DTH), которые могли потерять большую часть своих первоначальных инвестиций, если бы ничего не удалось сделать для их спасения.

![Вирусный комикс 2016 года, изображающий The DAO, сжигающую деньги Ethereum](./oops.jpeg)

### Изменение сделки

Важно отметить, что The DAO Hacker не использовал ничего в базовом протоколе Ethereum, так как эксплойт был ограничен контрактом The DAO. Они также не "нарушили правила" контракта DAO, поскольку они просто взаимодействовали с DAO таким образом, которого не ожидали его авторы. Независимо от намерений __ его автора, [Условия ДАО](http://web.archive.org/web/20160501124801/https://daohub.org/explainer.html) ясно дали понять, что окончательным судьей должен быть сам код контракта. По словам авторов The DAO, кодекс _- это закон_.

> Условия создания The DAO изложены в коде смарт-контракта, существующего на блокчейне Ethereum по адресу 0xbb9bc244d798123fde783fcc1c72d3bb8c189413. Ничто в настоящем разъяснении условий или в любом другом документе или сообщении не может изменять или добавлять какие-либо дополнительные обязательства или гарантии сверх тех, которые изложены в кодексе The DAO. Любые и все пояснительные термины или описания предлагаются только в образовательных целях и не отменяют и не изменяют явные условия кода The DAO, изложенные на блокчейне; в той степени, в которой вы считаете, что существует какой-либо конфликт или расхождение между предложенными здесь описаниями и функциональностью кода The DAO по адресу 0xbb9bc244d798123fde783fcc1c72d3bb8c189413, код The DAO контролирует и устанавливает все условия создания The DAO.  
> ...  
> Создавая токены DAO посредством взаимодействия с кодом смарт-контракта The DAO, вы прямо соглашаетесь со всеми условиями и положениями, изложенными в этом коде. Если вы не понимаете или не согласны с этими условиями, вам не следует создавать токены DAO.  
> ...  
> Код смарт-контракта DAO регулирует Создание токенов DAO и имеет приоритет над любыми публичными заявлениями о Создании DAO, сделанными третьими лицами или лицами, связанными с DAO, в прошлом, настоящем и будущем.  
> ...  
> Область цифровой криптографии является очень новой, и по этой причине существует риск непредвиденных атак как в отношении базового криптографического протокола, обеспечивающего функционирование DAO, так и в отношении векторов, связанных с "теорией игр", которые на сегодняшний день не задокументированы. Оба этих вектора представляют собой риск, который может привести к потере токенов DAO или ETH на одном или нескольких или даже всех счетах Держателя токенов DAO.

Многие разделяют точку зрения, что инвесторы в The DAO, согласившись на вышеуказанные условия, осознавали, что риски были сопряжены с ними, и поэтому, так же, как они были рады принять выгоду, которую эти риски могли бы принести, они также должны были быть готовы принять и негативные последствия реализации этих рисков. Однако для многих держателей токенов DAO это было не так.

## Войны ДАО

Судьбоносная функция разделения DAO имела временную задержку, что означало, что хакер DAO не сможет полностью извлечь свою добычу примерно через месяц после первоначальной атаки, при условии, что ничто не помешает ему сделать это за это время. Это дало возможность сообществу Ethereum дать отпор "Хакеру" и сделать держателей токенов DAO целыми, что стало главной целью для многих.

На столе было несколько вариантов, но основные дебаты велись вокруг того, допустимо ли осуществить "Hard Fork" - изменение протокола с обратной несовместимостью с единственной целью нарушить обещание "Создавать неудержимые приложения", чтобы остановить The Hacker's Child DAO и вернуть средства.

Сможет ли Ethereum остановить неостановимое? Для многих это было немыслимо, но другие считали, что это единственный способ исправить серьезную несправедливость, которая может угрожать будущему всей сети.

### Робин Гуд и его веселые люди

Пока шли дебаты о хард-форке, группа благородных хакеров-белоручек быстро перешла в наступление и обеспечила безопасность большей части средств The DAO, используя тот же эксплойт реентерабельности против разделенной дочерней DAO хакеров.

Прежде чем было принято решение о Hard Fork, было [подтверждено](https://old.reddit.com/r/ethereum/comments/4p7mhc/update_on_the_white_hat_attack/d4ip04w/) , что 70% потерянных средств уже были благополучно возвращены, и можно было провести контратаку, чтобы оставшиеся 30% были возвращены или заблокированы в патовой ситуации с хакером DAO. Оставшиеся 30% можно было делить и делить до бесконечности, пока одна из сторон не уступит.

> Но даже если [мягкий или жесткий] форк не будет реализован, сообщество может помешать злоумышленникам когда-либо вывести свои эфиры  
> ...  
> Одно можно сказать наверняка. Этот [counter-attack] может гарантировать, что злоумышленник никогда не получит от этого никаких денег. С этого момента можно продолжить переговоры со злоумышленником или провести жесткий форк, чтобы возместить убытки всем держателям токенов DAO.
> 
> - [Контр-атака на DAO, Slock.it](https://blog.slock.it/a-dao-counter-attack-613548408dd7#.sthdgppgx)

Существовал нереальный страх, что хакер DAO _никогда_ не отступит, и 30% будут заперты навсегда. Однако в действительности это был лишь вопрос времени, когда Robin Hood Group сможет захватить контроль над оставшимися средствами, так как RHG могла автоматизировать свою сторону патовой ситуации, одновременно пытаясь найти другие способы разоблачения или уничтожения Хакера.

Тупик означал, что "белые хаты" лишили Хакера DAO возможности получить какой-либо значительный выигрыш, и, зная, что можно использовать другие способы, включая переговоры, экспертизу цепочки и реальные полицейские действия, Хакер в конечном итоге был вынужден либо сдаться добровольно, либо столкнуться с последствиями вне цепочки, которые не позволят ему выполнить свою сторону тупика.

Одна из абсурдных, но важных деталей, часто забываемых о форке DAO, заключается в том, что в нем не было необходимости, так как большая часть средств уже была восстановлена, а оставшаяся часть - не хуже восстановленной. Без хард-форка наихудшим сценарием __ для держателей токенов DAO была _временная_ 30-процентная стрижка, но, как мы увидим, реализация хард-форка привела к гораздо худшим последствиям не только для держателей токенов DAO, но и для всего сообщества Ethereum и криптовалютной культуры в целом.

_UPDATE:_ Этот анализ оказался верным, поскольку личность хакера DAO была установлена исследователями и членами RHG. Если бы не было развилки, давление с целью разоблачения хакера было бы гораздо сильнее и, вероятно, произошло бы гораздо раньше.

### Форк или не форк?

Хотя этот относительно скромный худший сценарий был приемлем для многих держателей токенов DAO, все, что меньше, чем немедленный возврат 100% средств, было неприемлемо для влиятельного контингента, поэтому дебаты о хард-форке продолжались.

Сообщество Ethereum разделилось на два противоборствующих племени: форкеры и антифоркеры. Форкеры были убеждены, что лучший способ восстановить справедливость и "сделать держателей токенов DAO целыми" - это провести хард-форк. Любое другое мнение считалось неэтичным, а анти-форкеры изображались как антисоциальные и сторонники краж, по сути, пособники Хакера.

Одна из очевидных проблем, которая омрачала дебаты, заключалась в огромном финансовом стимуле для многих держателей токенов DAO поддержать хард-форк. Они ошибочно полагали, что это единственный способ гарантировать, что они окупят свои инвестиции. Кроме того, многие влиятельные фигуры, включая 11 кураторов, поддержали DAO и потеряли бы лицо, если бы их увидели не делающими все возможное для того, чтобы инвесторы, на которых они влияли, были в полном порядке.

Некоторые сторонники форка ошибочно полагали, что если позволить хакеру DAO уйти с такими большими суммами ETH, это значит обречь будущее Ethereum, который не сможет выдержать плохого игрока, контролирующего такой большой пул средств в Proof of Stake. Это было [опровергнуто](https://old.reddit.com/r/ethereum/comments/4rohdy/vlad_zamfirs_thoughts_on_the_hard_fork/d52s60v/) архитекторами реализации Proof of Stake в Ethereum, но, тем не менее, было популяризировано для усиления поддержки форка, и это миф, который продолжает существовать и по сей день.

С другой стороны, противники форка утверждали, что "Build Unstoppable Applications" должен быть поддержан, и что реализация хард-форка не только нарушит обещания, данные проектом Ethereum, но и представляет собой [моральный вред](https://en.wikipedia.org/wiki/Moral_hazard) , открывающий дверь для будущих интервенций. Некоторые даже предупреждали, что природа блокчейн означает, что спорные хард-форки гарантированно приведут к расколу цепи __, что может стать катастрофой.

Антифоркеры также подняли вопрос о том, что негативные последствия реализации хард-форка будут несправедливо нагружены на всех участников сети, независимо от того, являются ли они держателями токенов DAO. В отличие от этого, бенефициарами вилки будет лишь небольшое подмножество заинтересованных сторон. Эта реальность "приватизированных прибылей и социализированных убытков" напоминала финансовый кризис 2008 года, когда хард-форк многие называли "спасением" с различными коннотациями.

В ответ на эту озабоченность сторонники форка были вынуждены преуменьшать риски раскола цепи, откладывая их в категорию "не беспокойтесь об этом, это теория заговора, созданная биткоин-максималистами". Более того, никакой подготовки к расколу цепочки, такой как внедрение защиты от атак воспроизведения или информирование бирж о таком возможном исходе, чтобы защитить их от двойных расходов, не было сделано, так как это подтвердило бы возможность раскола цепочки и, в свою очередь, повысило бы вероятность его возникновения.

![Поэтому хард-форк был единственным приемлемым способом продвижения вперед.](./forkyou.jpeg)

### Самый темный час Ethereum

По мере приближения крайнего срока разделения Child DAO дебаты быстро переросли в крайне токсичный спор, подпитываемый финансовыми интересами и философским раздражением. Разлад был настолько сильным, что обвинения в преступности и отсутствии этики сыпались с обеих сторон. Любая тактика использовалась для победы в схватке, которая стала почти битвой не на жизнь, а на смерть.

Печальная интрига увенчалась угрозами доксинга и других форм возмездия в адрес тех, кто был против хард-форка. На сайте slock.it были сделаны призывы раскрыть личности тех, кто выступал против хард-форка, создавая эффект охлаждения и запугивая видных антифоркеров, чтобы они не высказывались:

> Мне было бы ОЧЕНЬ интересно узнать, кто координирует усилия по противодействию хардфорку. Напишите мне [redacted]@slock.it
> 
> - [slock.it, июнь 2016 г.](https://twitter.com/slockitproject/status/743790901877706752)

По иронии судьбы, в то же время, когда велась охота на ведьм, на сайте DAO, которым управляла компания slock.it, подчеркивались ее предполагаемые ценности:

> Мы, как DAO, придерживаемся следующих ценностей:  
> \- Конфиденциальность и право на анонимность
> 
> - [Веб-сайт DAO](https://web.archive.org/web/20160622212427/https://daohub.org/manifesto.html)

К настоящему времени дебаты о хард-форке напоминают скорее религиозный крестовый поход, чем здоровую дискуссию о том, что отвечает наилучшим интересам проекта Ethereum, но, возможно, изначально речь о нем и не шла.

### Производственный консенсус

Если взглянуть на дебаты о форке DAO на Reddit, то можно увидеть, что значительная часть сообщества Ethereum была против жесткого форка, основываясь только на [upvotes](https://old.reddit.com/r/ethereum/comments/4p7mhc/update_on_the_white_hat_attack/d4iqgx1/) . Однако, несмотря на это, были привлечены влиятельные силы, которые посчитали, что нет другого выбора, кроме как настаивать на проведении хард-форка для защиты финансовых интересов.

К сожалению, вероятно, невозможно выяснить, каков был _фактический_ консенсус в то время, поскольку основные форумы обсуждения - Reddit и Twitter - были очень восприимчивы к [атакам Sybil](https://en.wikipedia.org/wiki/Sybil_attack) в форме астротурфинга. Имел ли хард-форк настоящую народную поддержку, или это был просто созданный консенсус? Мы, вероятно, никогда не узнаем, но, по крайней мере, был значительный отпор, и нельзя отрицать, что то, что собирались навязать сообществу, было _противоречивым Hard Fork_.

### «Дебаты» завершаются

К тому времени, когда было принято решение о проведении хард-форка, оказалось, что речь идет не только о хард-форке. Это стало привычной трайбалистской игрой за власть, в которой обе стороны настолько укоренились в своих позициях, что многие были вне разума и не могли уступить.

Как мы рассмотрим позже, с точки зрения теории игр, все это было похоже на координационную ловушку __. С самого начала экономические стимулы были выстроены таким образом, что обе стороны стремились к "победе или смерти". В результате форкеры рационально преуменьшали возможные негативные последствия хард-форка и одновременно создавали впечатление, что это единственный приемлемый вариант, отбрасывая реальность ситуации благодаря усилиям Робин Гуда.

### Голосование за абсолютно честную монету

Во время дебатов Фонд Ethereum попытался сохранить нейтральную позицию. Что бы ни было сделано в отношении The DAO Hack, этот вопрос должно было решать сообщество Ethereum __ , а не то, что исходило сверху. Это была важная позиция, поскольку откладывание выбора на бумаге снимало с них ответственность. Однако, несмотря на это утверждение, были продемонстрированы явные доказательства отсутствия нейтралитета между различными крыльями Ethereum Foundation.

Одна из проблем реализации хард-форка заключалась в том, что если бы пользователям требовалась дополнительная настройка, многие операторы узлов и майнеры по умолчанию переходили бы на "нефоркованную" цепочку при обычном обновлении своего программного обеспечения, что практически гарантировало бы раскол цепочки и создавало бы проблемы. Решение" заключалось в обновлении настроек по умолчанию клиентов Ethereum, чтобы они соответствовали новым правилам хард-форка, и требовании от пользователей, желающих находиться на версии Ethereum без форка, отказаться от форка.

В завуалированной попытке сохранить некий уровень нейтралитета, решение о том, какой дефолт использовать для Geth [, было принято](https://blog.ethereum.org/2016/07/15/to-fork-or-not-to-fork/) на основе результатов спорного "голосования монеткой".

Голосование монетами, где 1 ETH = 1 голос, как известно, плохой инструмент для отражения мнения сообщества, особенно если голосующие имеют финансовую мотивацию. Предположим, что у одного кита 90 000 ETH, а у 10 000 преданных членов сообщества всего по 8 ETH. В этом случае кит может гарантировать победу и диктовать консенсус "сообщества Ethereum". У избирателей с меньшей позицией также меньше стимулов для участия, так как они имеют индивидуально меньшую раскачку, а в совокупности требуют гораздо более высокого уровня координации, усилий и платы за газ для участия.

Как оказалось, один единственный адрес проголосовал таким количеством Эфира, что это составило 25% от всех голосов. Вдобавок ко всему, голосование по этой монете не имело минимального кворума, и в нем приняли участие только 6% от общего количества Эфира. Самое шокирующее, что он был объявлен и завершен в течение 12 часов, что дало очень мало времени для координации любого ответа анти-форкеров, и сделало невозможным получить вклад от половины планеты, которая спала.

Предсказуемо, результаты были сильно искажены горсткой китов, которые могли знать или не знать об объявлении. Затем было заявлено, что критически важное решение о том, какая цепочка будет использоваться по умолчанию для Geth, было принято "сообществом" и позже использовалось для обоснования поддержки Ethereum Foundation форковой цепочки по сравнению с ETC.

Примечательно, что в последних версиях сайта Ethereum.org споры вокруг этого важного голосования за монету задокументированы.

> За этот курс действий проголосовало сообщество Ethereum. Любой владелец ETH мог проголосовать посредством транзакции на платформе для голосования. Решение о вилке было принято более чем 85% голосов.
> 
> Важно отметить, что, несмотря на то, что протокол был форкнут для отмены взлома, вес, который имело голосование при принятии решения о форке, является спорным по нескольким причинам:  
> \- Явка на голосование была невероятно низкой  
> \- Большинство людей не знали о голосовании  
> \- Голосование представляло только держателей ETH, а не других участников системы.
> 
> - [Веб-сайт Ethereum.org](https://ethereum.org/en/governance/#dao-fork)

Хотя было ясно, что некоторые сторонники форка не хотят, чтобы Geth или другие продукты Ethereum Foundation даже имели возможность запускать цепочку без форка, для обеспечения нейтралитета в Geth был добавлен печально известный флаг `--oppose-dao-fork` , позволяющий пользователям отказаться от использования цепочки без форка, включив этот параметр конфигурации. Однако в последующих версиях он был вскоре удален.

Справедливости ради следует отметить, что некоторые другие команды Ethereum Foundation пытались предоставить действительно нейтральные варианты. Например, Mist, dapp-браузер, требовал от пользователей явного выбора версии цепочки при открытии клиента, вместо того чтобы по умолчанию выбирать одну из сторон форка.

![Mist Wallet от Ethereum Foundation попросил пользователей решить, какой форк использовать](./mist.png)

К сожалению, решение клиента Mist имело гораздо меньшие последствия, чем решение Geth, поскольку целевой пользовательской базой для Mist не были ни майнеры, ни биржи, поэтому эта опция не оказала существенного влияния на хэшрейт или принятие пользователями, что в основном было продиктовано биржами и другими сервисами кошельков, использующими новые настройки по умолчанию Geth.

Некоторые члены Ethereum Foundation даже публично выступили против хард-форка, укрепив идею о том, что консенсус был _не_ достигнут. Мы приветствуем тех, кто поддержал идею "Построить неудержимые приложения", несмотря на давление со стороны сверстников.

### Так нейтрально, много консенсуса

Еще одним доказательством отсутствия нейтральности со стороны The Ethereum Foundation в отношении решения о форке стало сообщение биржи Poloniex, из которого следовало, что EF не просто не предупредила биржи о возможности раскола цепи, но и в частном порядке активно преуменьшала ее потенциал и, вопреки дискуссии на Reddit, утверждала, что сообщество Ethereum практически не заинтересовано в разфоркованной цепи.

> ...неоднократные заверения представителей фонда Ethereum о том, что сообщество практически не заинтересовано в Эфире на цепочке без форка...
> 
> - [Poloniex](https://poloniexus.circle.com/press-releases/2016.07.26-responses-to-common-etc-questions/)

В любом случае, не обращая внимания на слухи и теории заговора, доказательство было налицо: те, кто настаивал на хард-форке, оказались [очень довольны](https://twitter.com/stephantual/status/743764898316877824) "помощью" Ethereum Foundation в реализации столь эффективного решения.

По мере того, как приближался срок завершения функции разделения Child DAO, был объявлен консенсус, и Ethereum™ предпринял немыслимое: хард-форк для изменения правил игры, чтобы попытаться отменить взлом. Вилочники выиграли дебаты; по крайней мере, они добились своего. Пока что.

## Вилка

На блоке 1 920 000, 20 июля 2016 года, была создана история. Хотя на сайте Ethereum™ по-прежнему гордо [провозглашается](http://web.archive.org/web/20160731205712/https://ethereum.org/) "Build Unstoppable Applications", авторы изменили протокол Ethereum с единственной целью - остановить The Hacker's Child DAO на его пути. Форкеры проникли на уровень контракта, выкинули в окно _Code is Law_ , переписали контракт DAO в середине полета и конфисковали ETH у Хакера. [Миссия выполнена!](https://twitter.com/initc3org/status/758000698881613824/photo/1)

Вопреки распространенному заблуждению, хард-форк DAO был технически _не_ "откатом", как его обычно называют - не было "возврата" к старому состоянию. Вместо этого, это было "хирургическое нерегулярное изменение состояния". Во многих отношениях это намного хуже, чем откат с точки зрения _Code is Law_ , поскольку в отличие от длительной реорганизации, это было ручное вмешательство в контракт, отменяющее его логику, _меняющее правила игры_, и вставляющее произвольный код замены, определенный субъективным процессом управления вне сети, практически не имеющим прозрачности.

На этой новой развилке, где контрактный слой был осквернен, обещание безостановочности было осквернено, а _Code is Law_ был мертв. F.

Хард-форк DAO не был похож на типичные хард-форки, которые довольно часто происходят в Ethereum и связаны с исправлением протокола или улучшением функций; не было никакого "обновления" протокола с технической точки зрения. Вместо этого, в первый раз (и на данный момент в последний), "обновление" было политическим и касалось только переопределения чего-то, происходящего на контрактном уровне, который [можно отличить](/why-classic/code-is-law/#outside-the-contract-layer) от протокола и который рекламировался как неостановимый.

### Разрыв цепи

Как будто по какому-то божественному универсальному закону, динамика противоположностей прослеживается во всей природе. Свет и тьма, инь и янь, децентрализованное и централизованное.

![Противоположные или противоположные силы могут быть взаимодополняющими, взаимосвязанными и взаимозависимыми.](./pakua.png)

Когда его авторы попытались сокрушить _Original Ethereum Vision_, Вселенная дала равный и противоположный ответ, и в тот роковой день произошло чудо. В вызывающем продолжении _Code is Law_блоки оригинальной цепи продолжали добываться, следуя правилам протокола _Classic_ unforked.

Впервые технология должным образом продемонстрировала свой конечный механизм разрешения споров. В результате раскола цепи все стороны получили то, что хотели: либо версию Ethereum, где код _не является законом_ , либо цепь, где обещание "Создавать неудержимые приложения" было выполнено.

Форк DAO стал для Ethereum моментом священного очищения, избавления от коррупции и централизации, которые позволили произойти форку. Те, кому не нравился _Code is Law_ , основали новую цепочку с новыми правилами, оставив незафоркованную цепочку работать как прежде, с меньшим багажом, обновленным сообществом и четкой миссией.

В отличие от нового форка Ethereum™, нефоркнутый Ethereum был противоположен ему во многих отношениях: в своей безостановочности, уровне децентрализации и, следовательно, в своем беспредельном потенциале изменить мир.

![](./fork.png)

Смущает то, что Ethereum Foundation определила, что их новая форкированная цепочка будет называться "Ethereum". С этого момента он будет получать почти исключительно официальную поддержку Фонда, включая огромные суммы, собранные во время краудсейла. Но неразорванная цепочка сохранила нечто гораздо более ценное, поскольку _Code is Law_ - это не то, что можно форкнуть по прихоти, а оригинальная цепочка, которую они бросили, продолжала развиваться.

Самой долгоиграющей платформой для смарт-контрактов есть, была и всегда будет _Ethereum Classic_.

### Непорочное зачатие

Появление Ethereum Classic было чудесным во многих отношениях, как по обстоятельствам, так и по сути. Если бы не Биткойн, Ethereum, DAO, ошибка на строке 666, хакер, временной лимит функции разделения, ловушка координации дебатов на Hard Fork, сам Hard Fork, а также смелые и очаровательные сторонники ETC, без этой серии глубоко невероятных событий мир не был бы благословлен действительно децентрализованной платформой смарт-контрактов, которая является чемпионом _Code is Law_.

Ethereum Classic также обладает многими чудесными свойствами, которые невозможно создать искусственно. Приверженность принципу _Code is Law_, отсутствие основателей, Ethereum Foundation, отсутствие premine\*, справедливое распределение и сообщество, которое самовыбирается на основе заботы о принципах, а не об удобстве, ETC стоит выше, чем даже Bitcoin Standard, по многим столпам децентрализма, что дает ETC один из самых больших потенциалов среди всех блокчейнов для _Сопротивления цензуре суверенного класса_ и силы, улучшающей реальность, которую она высвобождает.

Обстоятельства появления Ethereum Classic настолько редки, что вряд ли когда-нибудь повторятся. Ethereum Classic, первым продемонстрировав силу _Code is Law_ и опасность продвижения спорных хард-форков, служит предупреждением для предотвращения подобных ситуаций в будущем, делая ETC единственной цепочкой, способной достичь этих свойств, благодаря отказу от нее ее первоначальных авторов.

### Воскрешение

Спустя три дня и три ночи после хард-форка DAO, первоначальный вид Ethereum снова вырос, а Ethereum Classic получил свой первый биржевой листинг на одной из крупнейших альткоин-бирж Poloniex. После этого первого листинга будущее ETC было предрешено, поскольку рыночные силы взяли верх, заставив другие биржи поспешить с листингом и сделав майнинг на Классической стороне цепочки ликвидным и прибыльным.

Два дня спустя была форкнута версия Geth, которая по умолчанию использовала цепочку Classic и удалила код The DAO Fork. Через три дня после этого Ethereum Classic официально поддерживается Parity, вторым крупным клиентом Ethereum. Известные майнеры ETH спорят о том, стоит ли "атаковать на 51%" ETC, чтобы предотвратить его рост, но в итоге решают оставить все как есть.

### Декларация независимости

Сообщество Ethereum Classic быстро организовалось в новый децентрализованный эмерджентный социальный порядок, запустило сайт EthereumClassic.org и объявило о независимости от The Ethereum Foundation.

> Да будет известно всему миру, что 20 июля 2016 года на блоке 1,920,000 мы, сообщество суверенных лиц, объединились общим видением продолжения оригинального блокчейна Ethereum, который действительно свободен от цензуры, мошенничества или вмешательства третьих сторон. Понимая, что блокчейн представляет собой абсолютную истину, мы поддерживаем его неизменность и его будущее. Мы делаем это заявление не легкомысленно и не задумываясь о последствиях наших действий.
> 
> - [Декларация независимости Ethereum Classic](/blog/2016-08-13-declaration-of-independence)

## Трудное расставание

Расколотое сообщество Ethereum, и без того утомленное войной из-за дебатов о хард-форке, было переведено в режим повышенной активности появлением Ethereum Classic. То, что, как многие надеялись, станет концом борьбы, оказалось началом еще одной трудной главы в деморализующем развитии событий, которые оказались гораздо хуже, чем декларировалось и предполагалось всего несколько недель назад.

Разделение цепи было далеко не безболезненным. Если бы все побочные эффекты были известны заранее, кажется крайне маловероятным, что даже самые ярые сторонники хард-форка сочли бы его приемлемым решением, особенно по сравнению с альтернативами, которые не привели бы к расколу. ETC стал живым доказательством того, что заверения сторонников форка о беспроблемном хард-форке были всего лишь выдачей желаемого за действительное. Кто может доверять их суждениям после такого провала?

### Цепь воров

Форкеры, вместо того чтобы взять на себя ответственность, заявили, что эта новая вещь "Классик" - это проблемы; это атака на Ethereum со стороны биткойн-максималистов, пустая протестная цепочка, зомби, который исчезнет в кратчайшие сроки, даже "цепочка воров" [sic]. ETC был многим, но определенно _не_ легитимным. Никто из тех, кто поддерживал Ethereum™, не может искренне поддерживать Ethereum Classic. _Этот_ был ересью.

Для многих ответственные за Ethereum Classic были "идиотами", "сумасшедшими", "злодеями" или даже хуже, и они должны были заплатить за свои преступления. Большая часть этой враждебности после вилки была зафиксирована в то время комментаторами, но чтобы не ковыряться в струпьях, мы настоятельно рекомендуем не гуглить название этого раздела.

### "Свободные деньги" и сверхсправедливое перераспределение

Но нападки на Ethereum Classic не ограничивались только обзывательствами. Некоторые считали, что можно уничтожить Ethereum Classic, отправив его цену к нулю, выбросив на рынок большое количество ETC. Конечно, в реальности блокчейн гораздо более устойчив, но это не остановило попытки развязать экономическую войну ради забавы и прибыли.

В результате разделения цепи, каждый адрес, который владел Эфиром до хард-форка, теперь получал двойную сумму; они имели Эфир, которым владели ранее, который стал известен как ETC, а также равное количество нового форка Эфира, получившего символ ETH. Благодаря биржам, разместившим листинг ETC вскоре после форка, возник ликвидный рынок, который позволил обнаружить цены между двумя цепочками.

В первые дни открытия цен многие про-форкеры стремились продать свои "бесполезные" ETC по смехотворно низким ценам, сбрасывая огромные объемы ETC, полагая, что это "гонка на дно" умирающего рынка, что привело к снижению цены до 0,01 ETH за ETC. Это, возможно, вызвало временное беспокойство, но позволило сторонникам ETC с бриллиантовой рукой заключить несколько сделок, которые бывают раз в жизни.

Это привело к ажиотажу на рынке продаж, когда известные форкеры заявили, что продажа их ETC - это "свободные деньги". Для них это была сделка без затрат, поскольку ETC не имели никакой ценности, но в действительности они были участниками одного из самых справедливых событий в истории криптовалют, связанных с рыночным перераспределением. Бесценная" ETC была передана по сути бесплатно от ярых сторонников форка тем, кто видел будущее в _Code is Law_, что сегодня можно назвать "ультрачестным перераспределением".

![Открытие цен на ETC после форка, пик которых составляет 0,4 ETH/ETC](./polo.png)

К ужасу многих сторонников форка, после того как они выбросили свои ETC, первоначальный сброс потерял импульс, и цена ETC вернулась с новой силой. Неделю спустя цена ETC достигла пика в 0,4 ETH, обеспечив первоначальным покупателям 40-кратную прибыль и создав значительную угрозу "перевертывания" ETH, что в значительной степени делегитимизировало хард-форк. Увы, переворот ETC/ETH не произошел тогда и еще не произошел, но некоторые прогнозируют, что со временем вероятность того, что это _не_ произойдет, приближается к 0.

### Группа "Белая шляпа" и ее не очень веселые люди

Но подождите секунду. Что случилось с теми средствами, которые ранее получила Robin Hood Group? Напомним, что Robin Hood Group уже обеспечила 70% потерянных средств, теперь в виде ETC. Для остальных 30% они прибегли к помощи сообщества, чтобы приобрести "ключи контроллера" Child DAO. У них была возможность поддерживать патовую ситуацию вечного раскола с "Хакером DAO".

Однако после развилки Robin Hood Group (RHG) передала руль (и контроль над ETC) новообразованной White Hat Group (WHG). Кто именно руководил работой White Hat Group, неизвестно, но объявления, которые делала WHG, публиковала компания Bity, которая в то время была партнером [](https://archive.is/3nWU0) и slock.it.

На стороне Ethereum Classic было принято решение RHG/WHG _не_ отстаивать свою сторону патовой ситуации, и они, несмотря на просьбы, не передали ключи Child DAO какой-либо другой доверенной группе для продолжения патовой ситуации от их имени.

> RHG [...] могла бы продолжить атаку на цепочку ETC, используя вышеупомянутую стратегию лимба "Войны DAO", но решила этого не делать.
> 
> - ["Пересмотр DAO", исследование BitMEX](https://blog.bitmex.com/revisiting-the-dao/)

Как они пришли к этому решению, не разглашается, но можно только предположить, что отчасти это была усталость и надежда на то, что хард-форк будет означать завершение саги, но отчасти это могла быть и игра в теорию игр, где целью было не придать ETC никакой легитимности.

Стратегия не показывать, что нужно делать какие-либо приготовления, была лучшим способом уменьшить вероятность того, что разделение цепи произойдет в первую очередь, так как, действуя так, как будто неразорванная цепь вымирает, теоретически можно увеличить вероятность ее вымирания, так как она будет восприниматься как брошенная. Хард-форк должен был стать __ способом обеспечить держателей токенов DAO, и принятие мер предосторожности или погоня за средствами на ETC подорвали бы недавние обоснования для его реализации.

Какими бы ни были намерения, детской DAO Хакера позволили дотянуть до крайнего срока без повторного разделения, и это бездействие фактически означало передачу около 3,5 миллионов ETC Хакеру DAO, которые и сегодня находятся под их опекой [](https://receipt.emerald.cash/balance/0x5e8f0e63e7614c47079a41ad4c37be7def06df5a).

Если бы вместо проведения хард-форка RHG просто продолжила тупиковую ситуацию, не только не было бы необходимости в Ethereum Classic, но и владельцы токенов DAO, по всей вероятности, вернули бы себе _больше стоимости_ , которая вместо этого была потеряна в виде ETC для хакера DAO и нанесла ущерб репутации проекта Ethereum.

Но веселье только начиналось.

### Неудачная ликвидация ETC

Не предупредив и не спросив мнения держателей токенов DAO, WHG, после первой попытки "перебросить" средства через несколько адресов, чтобы скрыть источник ETC, разместил около 4 миллионов (половину из 70%) на нескольких биржах, [намереваясь](https://archive.is/tKKWY) конвертировать эти ETC в ETH "от имени" держателей токенов DAO.

![Восстановленные ETC были переработаны и отправлены на биржи](./whg-funds.png)

Этот поступок стал решающим для многих, кто подозревал, что эти "белые шляпы" не обязательно действуют в мире абсолютно черно-белой этики, и у них есть мотивы, помимо действий в интересах держателей токенов DAO.

Их действия вызывают два вопроса:

- Почему бы не дать держателям токенов DAO право выбора в этом вопросе или, по крайней мере, не открыть дискуссию о том, что делать? Многие держатели не поддержали хард-форк, не говоря уже о желании конвертировать свои ETC в ETH. Действительно, многие держат эти ETC и по сей день, поэтому очевидно, что это действие не могло соответствовать желаниям _всех держателей токенов_ DAO.
- Зачем пытаться перевернуть ETC? Это кажется подозрительным и служит лишь для того, чтобы обмануть биржи и не отмечать депозиты. Если все это было законно, что выигрывает от обфускации?

Только самая циничная точка зрения может дать адекватный ответ на эти вопросы, поскольку представляется вероятным, что WHG пыталась финансово атаковать Ethereum Classic, извлекая как можно больше стоимости из держателей ETC. Отсутствие предварительного объявления не позволило рынку оценить цену сброса и дать возможность спекулянтам защитить себя. Возможно, это падение было попыткой помешать биржам отметить фонды, что избавило бы их от необходимости объяснять кому-либо свои действия заранее, что могло бы позволить отразить экономическую атаку.

К счастью, несмотря на попытку скрыть истинное происхождение ETC, большая часть этих средств была заморожена биржами, и даже те ETC, которые были ликвидированы, в конечном итоге были обменены обратно на ETC позже, когда стало ясно, что WHG не сможет выполнить свой первоначальный план.

Хотя WHG предоставила [обоснование](https://archive.is/tKKWY) того, почему они хотят продать возвращенные ETC, все эти оправдания были признаны необоснованными благодаря последующей реализации Контракта на вывод ETC, который в конечном итоге позволил держателям токенов DAO безопасно получить свои ETC обратно и самим решить, что с ними делать.

### Повтор атак

Одним из последствий неподготовленности к возможности разделения цепочки была перспектива атак повторного воспроизведения, которые могли, как случайно, так и намеренно, привести к потере средств или краже с любой стороны цепочки. О возможности атак повторного воспроизведения было известно [](https://twitter.com/VladZamfir/status/759552287157133313) заранее, но, предположительно, чтобы снизить вероятность того, что раскол цепочки вызовет беспокойство, не было предпринято никаких действий для их смягчения или даже предупреждения сообщества о них.

После разделения держатели ETH будут иметь одинаковое количество ETC, связанных с одними и теми же адресами, а большинство транзакций, совершенных на любой стороне цепочки, будут действительными и могут быть скопированы на другую. Подписанная транзакция может быть передана на другую сторону разделения и опубликована в этой цепочке без ведома или намерения подписавшего. Сначала об этой опасности не было широко известно, и казалось, что некоторые клиенты иногда публикуют действительные транзакции в мемпулы обеих цепочек, создавая хаос и заставляя невинные стороны терять средства различными способами.

Одним из примеров такого беспорядка стал случай, когда контракты были развернуты на ETH, но не на ETC. Перевод стоимости, отправляющий ETH на контракт, скажем, на адрес multisig, может быть воспроизведен на ETC, но ETC может быть потерян навсегда, поскольку адрес принимающего контракта не имеет закрытого ключа, и код контракта не развернут на этот адрес на Classic. В этом сценарии не требовалось никаких злоумышленников, это был просто предотвратимый плохой исход, вызванный недостаточной подготовкой.

Также были зафиксированы случаи злонамеренного использования воспроизведенных транзакций, жертвой которых обычно становилась биржа. Например, злоумышленник мог вводить и выводить ETH много раз, каждый раз _также_ выводя ETC с биржи, воспроизводя транзакцию вывода средств с ETH на ETC, а поскольку большинство бирж понятия не имели, что ETC существует или может существовать, большая часть ETC в горячих кошельках была готова к расхищению, как только оппортунистические блэкхаты раскусили этот трюк.

В то время единственным гарантированным способом предотвращения повторного воспроизведения транзакций было разделение средств по разным адресам в каждой цепочке, что можно было сделать с помощью "контракта-разделителя", но это был раздражающий процесс, особенно для менее технически подкованных пользователей. Несколько месяцев спустя было представлено решение на уровне протокола - [EIP-155](https://eips.ethereum.org/EIPS/eip-155). Именно поэтому в блокчейн EVM теперь используется `CHAIN_ID`, уникальный номер для каждой цепи, который указывается при подписании транзакций, делая их недействительными на других цепях.

## Извлеченные уроки

Со времени хард-форка и его немедленного отката в 2016 году пыль в основном осела, вражда утихла, а Ethereum™ и Ethereum Classic продолжали развиваться и росли своими путями. Поскольку прошлое уже позади, а действия отдельных людей, попавших в этот водоворот, прощены, практические и моральные уроки, которые преподнес нам The DAO Fork, не должны быть забыты, чтобы избежать подобных катастроф в будущем.

### Ловушки координации

Одним из важных выводов из фиаско с форком DAO, который теперь можно правильно определить только задним числом, является опасность ловушек координации __. Этот термин придуман здесь для описания явления в контексте блокчейна, но та же концепция звучит во многих системах, где структуры стимулов приводят к плохим результатам.

Блокчейн предназначен для решения проблем координации __, как это сделали Bitcoin и Ethereum, сумев, не имея ничего, кроме четко определенного протокола, реализующего экономические стимулы, заставить миллионы людей работать вместе и, короче говоря, сделать кучу классных вещей. Но оказывается, что именно эти механизмы, если их не контролировать, могут сами по себе деформироваться и превращаться в совершенно некрутые вещи.

Оглядываясь назад, кажется очевидным, что хард-форк DAO был примером координационной ловушки __, которая заставила отдельных людей, действующих в своих непосредственных экономических рациональных собственных интересах, совершать действия, которые в целом были строго хуже для всех участников. Оглядываясь назад, можно сказать, что события, которые разворачивались, не имеют особого смысла, учитывая плохие результаты, так почему же в то время не было очевидно, что хард-форк - плохая идея?

Ответ на этот вопрос сложен, но одна из теорий состоит в том, что мышление тех, кто так рьяно настаивал на хард-форке, было затуманено из-за сочетания неуместного авторитета, плохого предвидения и, возможно, наиболее влиятельного, захвата миндалевидного тела из-за чрезвычайно высокого финансового давления. и межплеменные распри, вызванные структурами стимулирования теории игр вокруг дебатов о хард-форке, которые препятствовали любому намеку на отступление и подключались к воинскому духу.

Дебаты о хард-форках были, по сути, сложной [игрой в салочки](https://en.wikipedia.org/wiki/Chicken_(game)), и форкеры были убеждены, что смогут "победить" только в том случае, если удвоят свои усилия в пользу того, что раскол цепи не произойдет. Поэтому они преуменьшали возможность раскола цепи и, чтобы обеспечить единый фронт уверенности, запугивали и не позволяли другим строить какие-либо планы на случай раскола.

Выпив свой собственный [Kool-Aid](https://www.urbandictionary.com/define.php?term=drinking%20the%20kool-aid), многие искренне верили, что те, кто выступал против хард-форка или предупреждал о возможности разрыва цепи, были либо союзниками "Хакера", либо биткоин-максималистами, желающими смерти Ethereum. В результате форкеры, движимые рациональным желанием, но ошибочной стратегией защиты своего богатства, были готовы распространять и потреблять все более нелепую пропаганду, которая усиливала поддержку хард-форка, что создало порочный круг, усугубивший эффект.

Основное заблуждение, которое было разумным в то время из-за отсутствия прошлых ссылок, заключалось в том, что стратегия притворства, что раскол цепи не произойдет, уменьшит вероятность того, что раскол цепи произойдет. Была надежда, что если удастся повлиять на достаточное количество людей, чтобы они отказались от незакрепленной цепи, то она умрет. Как мы знаем сегодня, и после нескольких известных расколов других цепочек, это предположение оказалось неверным, так как для продолжения работы версии блокчейна без форка нужна лишь преданная горстка людей, а рыночные силы без труда справятся с этой задачей.

Как проекты blockchain могут избежать подобных катастроф в будущем? Сильные философские основы дают противоядие от этой и других безумных загадок теории игр. Принципы выступают в качестве ориентира, который может пресечь экономические интересы, которые в противном случае подтолкнут сообщества к таким ловушкам. Вот почему принципы важны и являются приоритетными для блокчейн, которые рассчитывают на долговечность. Они могут установить правила игры в социальном плане и защитить цепочку от целого ряда непредвиденных состояний отказа, которые могут возникнуть, если эти правила неоднозначны.

### Является ли кодекс законом?

Для неспециалистов Ethereum™ все еще продает себя на рынке смарт-контрактов и идею о том, что их код должен быть окончательным арбитром взаимодействия контрактов. "Build Unstoppable Applications" ("Создавайте неудержимые приложения") - таков был главный лозунг Ethereum.org вплоть до 2019 года, спустя много лет после того, как контракт DAO был остановлен. Очевидная реальность такова, что полезность "умных контрактов" зависит от того, насколько _Code is Law_ будет соблюдаться, поскольку в противном случае они могут подвергнуться произвольной цензуре со стороны внешних сил.

Однако история Ethereum™ предполагает сомнительные отношения с концепцией безостановочности и _Code is Law_. Прямое противоречие этой концепции в прошлом Ethereum™ означает, что сейчас проект находится в шизофреническом положении, когда он одновременно выступает за и против идеи _Code is Law_.

Некоторые этерианцы говорят, что форк DAO был единичным случаем, который больше никогда не повторится; Ethereum™ действительно следует _Code is Law_, или, по крайней мере, следует ему с момента форка. Проблема с этой позицией заключается в том, что, когда это имеет значение, история Ethereum™ показывает, что она подвержена вмешательству, которое может отменить _Code is Law_. Если что-то _может_ отменить _Кодекс закона_, то у вас нет _Кодекса закона_, вы просто временно притворяетесь, что он у вас есть. Будь то на философском, социальном или финансовом уровне, центральные точки сбоя Ethereum™ уже __ показали, что его можно захватить.

Другие лидеры мысли в Ethereum Foundation говорят, что _Code is Law_ - это [бесчеловечная](https://twitter.com/VladZamfir/status/936029138623774721), [социопатическая](https://medium.com/@Vlad_Zamfir/my-intentions-for-blockchain-governance-801d19d378e5) концепция; будущие "исправления" уровня форка DAO _находятся_ на столе для Ethereum™, и это особенность, а не ошибка. Проблема с позицией _Code is not Law_ заключается в том, что она неправильно понимает фундаментальное ценностное предложение блокчейн, которые полезны _потому, что_ особые интересы не могут их отменить. Для всего остального есть гораздо более эффективные варианты.

Кроме того, несмотря на газовое освещение, которое продолжается и по сей день, The DAO Fork был объективным обедом для собаки, что только добавляет эмпирических доказательств в поддержку дела _Code is Law_ . Субъективное вмешательство в якобы неостановимые приложения по своей природе является беспорядочным и его следует избегать.

### Двойная связь

Для Ethereum™ основные проблемы остаются вне зависимости от того, является ли код _законом_ или _законом_ ; он находится в философском двойном положении. Она не может выстроить круг, в котором ее прошлые результаты противоречат ее ценностному предложению, и остается висящая нить, которая все больше искушает котенка судьбы, чем дольше она остается не натянутой.

![Когда следует прекратить применение?](./code-isnt-law.jpg)

Как Уайль И. Койот, сбегающий с обрыва, это лишь вопрос времени, когда репо-человек, задающий вопросы без ответов, постучится в виде будущего выбора уровня форка DAO. Текущая стратегическая двусмысленность Ethereum™ в отношении _Code is Law_ может служить для временного успокоения интересов, но в будущем она просто создаст гораздо более серьезные проблемы, когда наличие четкого ответа на вопрос _Code is Law_ избавит от кучи проблем.

В отличие от Ethereum Classic, в Ethereum™ вопрос "Когда приложения должны быть остановлены?" остается без ответа. Например, процесс, определяющий, следует ли проводить форки на Ethereum™, решил, что жертвы атак повторного воспроизведения, вызванных хард-форком The DAO, не должны получить еще один хард-форк, чтобы _их_ целиком, не говоря уже обо всех основных ошибках смарт-контрактов и взломах DeFi. Предположительно, допущение _этих_ потерь - это уровень социопатии, приемлемый для бригады _Code is not Law_ .

Если этот вопрос останется без ответа, то это приведет к возникновению проблем в будущем и является основной причиной, по которой Ethereum Classic открыто выступает за принцип _Code is Law_ при любых обстоятельствах. Хотя эта позиция не всегда может быть наиболее удобной в каждый конкретный момент, это единственная позиция, которая может относиться ко всем участникам нейтрально, оставаться философски последовательной и, следовательно, способна выдержать испытание временем.

## Заключение

История с форком DAO показывает, как Ethereum был захвачен высокомотивированной группой с особыми интересами, которая навязала сети ошибочные изменения за счет всех. Для Ethereum™ "жесткий форк" стал катастрофой. Это не только привело к расколу сообщества и сети, лишив их драгоценного статуса _Code as Law_ , но в знак поэтической справедливости форк DAO в итоге вернул владельцам токенов DAO меньше средств, чем альтернатива без форка, которая уважала _Code is Law_ .

Реальный, долговременный ущерб, который был нанесен культуре криптовалютного пространства, вышел далеко за пределы Ethereum. К сожалению, поколение новых участников не заботится об этом или открыто высмеивает "Code is Law" как нежелательное, и экосистема настроена на очередной массовый провал масштаба The DAO, ведущий к субъективному вмешательству в ближайшем будущем, или, что еще хуже, к цензуре пользователей, зависящих от неизменяемости.

Несмотря на хаос, один проект, а точнее, одна философия, хотя в то время это было далеко не очевидно, получил огромную выгоду от хард-форка; Ethereum Classic и _Code is Law_. В конце концов, настоящими "победителями" в ожесточенных дебатах по хард-форку стали противники форка, правоту которых доказали раскол цепи и возвращение восстановленных ETC, продемонстрировав, что хард-форк не был необходим. Более того, как только стало очевидно, что _The Original Ethereum Vision_ не уйдет тихо в ночь, все было решено; _Code is Law_ prevails.

_Но подождите минутку, это серьезно? Только взгляните на рыночную стоимость Ethereum Classic по сравнению с Ethereum! В каком мире Ethereum Classic считается победителем?_

Для тех, кто получает _Code is Law_ и понимает истинную ценность блокчейн, ответ на этот вопрос очевиден. Между рыночной стоимостью и стоимостью сети существует огромная разница, и хотя рынок может оставаться иррациональным долгое время, в конечном итоге все блокчейны столкнутся с экзистенциальными проблемами, которые можно преодолеть только с помощью _непоколебимой_ приверженности безостановочности. Медленный и стабильный выигрывает эту гонку.

Решив отказаться от _Code is Law_, Ethereum™ должен жить с этим решением и дальше, в том числе во время будущих кризисов, когда отказ от него может оказаться роковой ошибкой. Однако, к счастью для человечества, Ethereum Classic будет там, чтобы собрать куски, когда это произойдет.

Чтобы понять, как это сделать, мы должны более подробно рассмотреть, что поддерживает основное полезное свойство блокчейн - децентрализацию, и почему ETC находится в уникальном положении, чтобы сохранить его в долгосрочной перспективе.
